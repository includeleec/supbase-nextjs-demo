# Supabase å•†å“ç®¡ç†ç³»ç»Ÿ

åŸºäº Supabase + Next.js + Tailwind CSS æ„å»ºçš„ç°ä»£åŒ–å•†å“ç®¡ç†ç³»ç»Ÿï¼Œæä¾›å®Œæ•´çš„å•†å“ CRUD åŠŸèƒ½ã€å¤šå›¾ç‰‡ä¸Šä¼ ç®¡ç†å’Œç®¡ç†å‘˜è®¤è¯ç³»ç»Ÿã€‚

## ğŸŒŸ ä¸»è¦äº®ç‚¹

- âœ… **å®Œæ•´çš„å•†å“ç®¡ç†ç³»ç»Ÿ** - å¢åˆ æ”¹æŸ¥ã€æœç´¢ç­›é€‰ã€çŠ¶æ€ç®¡ç†
- âœ… **å¤šè¯­è¨€æ”¯æŒ** - ä¸­æ–‡ã€è‹±æ–‡ã€æ—¥è¯­ã€éŸ©è¯­å›½é™…åŒ–
- âœ… **SEOå‹å¥½URLs** - å•†å“slugç³»ç»Ÿï¼Œä¼˜åŒ–æœç´¢å¼•æ“æ’å
- âœ… **å…ˆè¿›çš„å›¾ç‰‡ç³»ç»Ÿ** - å¤šå›¾ä¸Šä¼ ã€è½®æ’­å±•ç¤ºã€CDNä¼˜åŒ–
- âœ… **å®‰å…¨çš„è®¤è¯æœºåˆ¶** - å¯†ç åŠ å¯†ã€ä¼šè¯ç®¡ç†ã€è·¯ç”±ä¿æŠ¤
- âœ… **ä¼˜ç§€çš„ç”¨æˆ·ä½“éªŒ** - å“åº”å¼è®¾è®¡ã€æ‹–æ‹½ä¸Šä¼ ã€å¹³æ»‘åŠ¨ç”»
- âœ… **å¼ºå¤§çš„è°ƒè¯•å·¥å…·** - å¼€å‘ç¯å¢ƒå®æ—¶è°ƒè¯•ã€è¯¦ç»†æ—¥å¿—
- âœ… **å®Œå–„çš„æµ‹è¯•è¦†ç›–** - 150+ æµ‹è¯•ç”¨ä¾‹ã€ç±»å‹å®‰å…¨ä¿éšœ

## æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Next.js 14 (App Router)
- **æ ·å¼**: Tailwind CSS
- **åç«¯**: Supabase (PostgreSQL)
- **è¯­è¨€**: TypeScript
- **è®¤è¯**: è‡ªå®šä¹‰ç®¡ç†å‘˜ç™»å½•ç³»ç»Ÿ
- **å¯†ç åŠ å¯†**: bcryptjs
- **å›¾ç‰‡å­˜å‚¨**: Cloudflare Images (CDN + ä¼˜åŒ–)
- **æµ‹è¯•**: Jest + React Testing Library (148+ æµ‹è¯•ç”¨ä¾‹)
- **éƒ¨ç½²**: Vercel (æ¨è)

## åŠŸèƒ½ç‰¹æ€§

### ğŸ” è®¤è¯ç³»ç»Ÿ
- âœ… ç®¡ç†å‘˜ç™»å½•/ç™»å‡º
- âœ… ä¼šè¯ç®¡ç†ï¼ˆlocalStorageï¼‰
- âœ… è·¯ç”±ä¿æŠ¤
- âœ… å¯†ç åŠ å¯†å­˜å‚¨
- âœ… ç™»å½•çŠ¶æ€æŒä¹…åŒ–

### ğŸ“¦ å•†å“ç®¡ç†
- âœ… å•†å“åˆ—è¡¨å±•ç¤ºï¼ˆå“åº”å¼ç½‘æ ¼å¸ƒå±€ï¼‰
- âœ… å•†å“æœç´¢å’Œåˆ†ç±»ç­›é€‰
- âœ… å•†å“æ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤
- âœ… åº“å­˜ç®¡ç†
- âœ… å•†å“çŠ¶æ€ç®¡ç†ï¼ˆä¸Šæ¶/ä¸‹æ¶ï¼‰
- âœ… **å¤šè¯­è¨€å•†å“ä¿¡æ¯**ï¼šæ”¯æŒä¸­æ–‡ã€è‹±æ–‡ã€æ—¥è¯­ã€éŸ©è¯­
- âœ… **SEOä¼˜åŒ–**ï¼šè‡ªåŠ¨ç”Ÿæˆå’Œè‡ªå®šä¹‰å•†å“URL slug

### ğŸ–¼ï¸ å›¾ç‰‡ç®¡ç†ç³»ç»Ÿ
- âœ… **å¤šå›¾ç‰‡ä¸Šä¼ **ï¼šæ”¯æŒæ‹–æ‹½ä¸Šä¼ ï¼Œæœ€å¤š8å¼ å›¾ç‰‡
- âœ… **Cloudflare Images é›†æˆ**ï¼šè‡ªåŠ¨ä¼˜åŒ–ã€CDNåŠ é€Ÿ
- âœ… **ä¸»å›¾è®¾ç½®**ï¼šæŒ‡å®šå•†å“ä¸»å›¾æ˜¾ç¤º
- âœ… **å›¾ç‰‡è½®æ’­**ï¼šå•†å“å¡ç‰‡æ”¯æŒå¤šå›¾å±•ç¤º
  - å·¦å³ç®­å¤´åˆ‡æ¢ï¼ˆhoveræ˜¾ç¤ºï¼‰
  - å°åœ†ç‚¹æŒ‡ç¤ºå™¨ï¼ˆç‚¹å‡»è·³è½¬ï¼‰
  - å›¾ç‰‡è®¡æ•°è§’æ ‡ï¼ˆå¦‚ï¼š2/5ï¼‰
  - ä¸»å›¾æ ‡è¯†
- âœ… **å¤šç§å›¾ç‰‡æ ¼å¼**ï¼šJPEGã€PNGã€WebPã€GIF
- âœ… **æ–‡ä»¶å¤§å°é™åˆ¶**ï¼šå•æ–‡ä»¶æœ€å¤§10MB
- âœ… **å®æ—¶é¢„è§ˆ**ï¼šä¸Šä¼ å‰é¢„è§ˆåŠŸèƒ½
- âœ… **é”™è¯¯å¤„ç†**ï¼šå›¾ç‰‡åŠ è½½å¤±è´¥çš„ä¼˜é›…é™çº§

### ğŸ¨ ç”¨æˆ·ä½“éªŒ
- âœ… å“åº”å¼è®¾è®¡ï¼ˆæ¡Œé¢/å¹³æ¿/æ‰‹æœºï¼‰
- âœ… å¹³æ»‘åŠ¨ç”»è¿‡æ¸¡
- âœ… æ‹–æ‹½ä¸Šä¼ ä½“éªŒ
- âœ… åŠ è½½çŠ¶æ€æç¤º
- âœ… é”™è¯¯æ¶ˆæ¯å±•ç¤º

### ğŸ§ª æµ‹è¯•è¦†ç›–
- âœ… è®¤è¯é€»è¾‘æµ‹è¯•ï¼ˆ8ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼‰
- âœ… ç»„ä»¶å•å…ƒæµ‹è¯•ï¼ˆ25ä¸ªProductCardæµ‹è¯• + 20ä¸ªProductModalæµ‹è¯•ï¼‰
- âœ… å¤šè¯­è¨€åŠŸèƒ½æµ‹è¯•ï¼ˆè¯­è¨€åˆ‡æ¢ã€å†…å®¹æœ¬åœ°åŒ–ã€å›é€€æœºåˆ¶ï¼‰
- âœ… SlugåŠŸèƒ½æµ‹è¯•ï¼ˆè‡ªåŠ¨ç”Ÿæˆã€éªŒè¯ã€æ˜¾ç¤ºï¼‰
- âœ… å›¾ç‰‡åŠŸèƒ½æµ‹è¯•ï¼ˆä¸Šä¼ ã€æ˜¾ç¤ºã€è½®æ’­ã€åˆ é™¤ï¼‰
- âœ… é›†æˆæµ‹è¯•å’Œç«¯åˆ°ç«¯æµ‹è¯•
- âœ… è¦†ç›–ç‡æŠ¥å‘Šï¼ˆ150+ é€šè¿‡çš„æµ‹è¯•ç”¨ä¾‹ï¼‰

### ğŸ› ï¸ å¼€å‘å·¥å…·
- âœ… **Cloudflareè°ƒè¯•é¢æ¿**ï¼šå¼€å‘ç¯å¢ƒå®æ—¶é…ç½®æ£€æŸ¥
- âœ… **å›¾ç‰‡è°ƒè¯•å·¥å…·**ï¼šURLç”Ÿæˆã€å¯è®¿é—®æ€§æµ‹è¯•
- âœ… **è®¤è¯è°ƒè¯•**ï¼šç™»å½•è¿‡ç¨‹è¯¦ç»†æ—¥å¿—
- âœ… **TypeScriptä¸¥æ ¼æ¨¡å¼**ï¼šç±»å‹å®‰å…¨ä¿éšœ

## é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                 # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ api/            # API è·¯ç”±
â”‚   â”‚   â”‚   â””â”€â”€ upload-image/ # å›¾ç‰‡ä¸Šä¼  API
â”‚   â”‚   â”œâ”€â”€ __tests__/      # é¡µé¢æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ globals.css     # å…¨å±€æ ·å¼
â”‚   â”‚   â”œâ”€â”€ layout.tsx      # æ ¹å¸ƒå±€
â”‚   â”‚   â””â”€â”€ page.tsx        # ä¸»é¡µé¢ï¼ˆå—ä¿æŠ¤ï¼‰
â”‚   â”œâ”€â”€ components/         # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ __tests__/      # ç»„ä»¶æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ LoginForm.tsx   # ç™»å½•è¡¨å•
â”‚   â”‚   â”œâ”€â”€ Navigation.tsx  # å¯¼èˆªæ 
â”‚   â”‚   â”œâ”€â”€ ProductCard.tsx # å•†å“å¡ç‰‡ï¼ˆæ”¯æŒå›¾ç‰‡è½®æ’­ï¼‰
â”‚   â”‚   â”œâ”€â”€ ProductModal.tsx# å•†å“ç¼–è¾‘å¼¹çª—
â”‚   â”‚   â”œâ”€â”€ ImageUpload.tsx # å›¾ç‰‡ä¸Šä¼ ç»„ä»¶
â”‚   â”‚   â””â”€â”€ CloudflareDebugPanel.tsx # å¼€å‘è°ƒè¯•é¢æ¿
â”‚   â”œâ”€â”€ contexts/           # React Context
â”‚   â”‚   â”œâ”€â”€ __tests__/      # Context æµ‹è¯•
â”‚   â”‚   â””â”€â”€ AuthContext.tsx # è®¤è¯ä¸Šä¸‹æ–‡
â”‚   â”œâ”€â”€ lib/                # å·¥å…·åº“
â”‚   â”‚   â”œâ”€â”€ __tests__/      # å·¥å…·æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ auth.ts         # è®¤è¯é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ cloudflare-images.ts # Cloudflare Images API
â”‚   â”‚   â”œâ”€â”€ debug-images.ts # å›¾ç‰‡è°ƒè¯•å·¥å…·
â”‚   â”‚   â”œâ”€â”€ image-utils.ts  # å›¾ç‰‡å¤„ç†å·¥å…·
â”‚   â”‚   â”œâ”€â”€ supabase.ts     # Supabase å®¢æˆ·ç«¯
â”‚   â”‚   â””â”€â”€ toast.ts        # æ¶ˆæ¯æç¤º
â”‚   â””â”€â”€ types/
â”‚       â”œâ”€â”€ __tests__/      # ç±»å‹æµ‹è¯•
â”‚       â””â”€â”€ database.ts     # æ•°æ®åº“ç±»å‹å®šä¹‰ï¼ˆæ”¯æŒå¤šå›¾ç‰‡ï¼‰
â”œâ”€â”€ schema.sql              # æ•°æ®åº“è¡¨ç»“æ„ï¼ˆåŒ…å«adminè¡¨ï¼‰
â”œâ”€â”€ jest.config.js          # Jest é…ç½®
â”œâ”€â”€ jest.setup.js           # Jest è®¾ç½®
â”œâ”€â”€ LOGIN_DEBUG.md          # ç™»å½•è°ƒè¯•æŒ‡å—
â”œâ”€â”€ .env.local             # ç¯å¢ƒå˜é‡é…ç½®
â””â”€â”€ README.md              # é¡¹ç›®è¯´æ˜
```

## å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®

```bash
git clone <your-repo-url>
cd supabase-demo
```

### 2. å®‰è£…ä¾èµ–

```bash
npm install
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

å¤åˆ¶ `.env.local.example` ä¸º `.env.local`ï¼Œå¹¶é…ç½®ä»¥ä¸‹å˜é‡ï¼š

```env
# Supabase é…ç½®
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key

# Cloudflare Images é…ç½®ï¼ˆå¯é€‰ï¼Œç”¨äºå›¾ç‰‡ä¸Šä¼ ï¼‰
CLOUDFLARE_ACCOUNT_ID=your_cloudflare_account_id
CLOUDFLARE_API_TOKEN=your_cloudflare_api_token
NEXT_PUBLIC_CLOUDFLARE_IMAGES_HASH=your_cloudflare_images_hash
```

#### Supabase è®¾ç½®
1. åœ¨ [Supabase](https://supabase.com) åˆ›å»ºæ–°é¡¹ç›®
2. å¤åˆ¶é¡¹ç›® URL å’Œ anon key

#### Cloudflare Images è®¾ç½®ï¼ˆå¯é€‰ï¼‰
å¦‚æœéœ€è¦å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½ï¼š
1. åœ¨ [Cloudflare](https://cloudflare.com) æ³¨å†Œè´¦æˆ·
2. å¯ç”¨ Cloudflare Images æœåŠ¡
3. è·å– Account ID å’Œ API Token
4. é…ç½® Images Hash

### 4. åˆ›å»ºæ•°æ®åº“è¡¨

åœ¨ Supabase Dashboard çš„ SQL Editor ä¸­æ‰§è¡Œ `schema.sql` ä¸­çš„ SQL è¯­å¥ã€‚è¿™å°†åˆ›å»ºï¼š
- `products` è¡¨ï¼šå•†å“æ•°æ®ï¼ˆæ”¯æŒå¤šå›¾ç‰‡å­˜å‚¨ï¼‰
- `admin` è¡¨ï¼šç®¡ç†å‘˜è´¦æˆ·
- é»˜è®¤ç®¡ç†å‘˜è´¦æˆ·ï¼ˆç”¨æˆ·åï¼šadminï¼Œå¯†ç ï¼šadmin123ï¼‰

âš ï¸ **æ³¨æ„**: æ–°çš„æ•°æ®åº“ç»“æ„æ”¯æŒå¤šå›¾ç‰‡å’Œå¤šè¯­è¨€åŠŸèƒ½ã€‚å¦‚æœä½ æ˜¯ä»æ—§ç‰ˆæœ¬å‡çº§ï¼Œè¯·æŒ‰é¡ºåºè¿è¡Œä»¥ä¸‹è¿ç§»æ–‡ä»¶ï¼š
1. `migration.sql` - å¤šå›¾ç‰‡åŠŸèƒ½è¿ç§»
2. `migration-multilingual.sql` - å¤šè¯­è¨€åŠŸèƒ½è¿ç§»  
3. `migration-add-slug.sql` - SEO slugåŠŸèƒ½è¿ç§»

### 5. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® [http://localhost:3000](http://localhost:3000) æŸ¥çœ‹åº”ç”¨ã€‚

### 6. ç™»å½•ç³»ç»Ÿ

ä½¿ç”¨é»˜è®¤ç®¡ç†å‘˜è´¦æˆ·ç™»å½•ï¼š
- **ç”¨æˆ·å**: `admin`
- **å¯†ç **: `admin123`

âš ï¸ **é‡è¦**: ç”Ÿäº§ç¯å¢ƒä¸­è¯·ç«‹å³æ›´æ”¹é»˜è®¤å¯†ç ï¼

### 7. å›¾ç‰‡åŠŸèƒ½è®¾ç½®ï¼ˆå¯é€‰ï¼‰

å¦‚æœé…ç½®äº† Cloudflare Imagesï¼š
- å•†å“ç¼–è¾‘é¡µé¢å°†æ˜¾ç¤ºå›¾ç‰‡ä¸Šä¼ åŠŸèƒ½
- æ”¯æŒæ‹–æ‹½ä¸Šä¼ å¤šå¼ å›¾ç‰‡
- è‡ªåŠ¨ç”Ÿæˆä¸åŒå°ºå¯¸çš„å›¾ç‰‡å˜ä½“
- å•†å“å¡ç‰‡æ”¯æŒå›¾ç‰‡è½®æ’­å±•ç¤º

å¦‚æœæœªé…ç½® Cloudflare Imagesï¼š
- ä»å¯ä½¿ç”¨ç›´æ¥URLæ–¹å¼æ·»åŠ å›¾ç‰‡
- åŸºç¡€çš„å›¾ç‰‡æ˜¾ç¤ºåŠŸèƒ½æ­£å¸¸å·¥ä½œ

## æ•°æ®åº“è®¾è®¡

### products è¡¨ç»“æ„

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| id | uuid | ä¸»é”®ï¼Œè‡ªåŠ¨ç”Ÿæˆ |
| name | varchar(255) | å•†å“åç§°ï¼ˆä¸»è¦è¯­è¨€ï¼‰ |
| description | text | å•†å“æè¿°ï¼ˆä¸»è¦è¯­è¨€ï¼‰ |
| slug | varchar(255) | SEOå‹å¥½çš„URLæ ‡è¯†ç¬¦ï¼ˆå”¯ä¸€ï¼‰|
| translations | jsonb | å¤šè¯­è¨€ç¿»è¯‘æ•°ç»„ |
| price | decimal(10,2) | å•†å“ä»·æ ¼ |
| images | jsonb | å•†å“å›¾ç‰‡æ•°ç»„|
| primary_image_id | varchar(255) | ä¸»å›¾ID|
| category | varchar(100) | å•†å“åˆ†ç±» |
| stock_quantity | integer | åº“å­˜æ•°é‡ |
| is_active | boolean | æ˜¯å¦ä¸Šæ¶ |
| created_at | timestamp | åˆ›å»ºæ—¶é—´ |
| updated_at | timestamp | æ›´æ–°æ—¶é—´ |

#### å¤šè¯­è¨€æ•°æ®ç»“æ„ (translationså­—æ®µ)

```json
[
  {
    "language": "en",
    "name": "Product Name",
    "description": "Product description in English"
  },
  {
    "language": "zh",
    "name": "å•†å“åç§°",
    "description": "ä¸­æ–‡å•†å“æè¿°"
  },
  {
    "language": "ja",
    "name": "å•†å“å",
    "description": "æ—¥æœ¬èªã§ã®å•†å“èª¬æ˜"
  }
]
```

#### å›¾ç‰‡æ•°æ®ç»“æ„ (imageså­—æ®µ)

```json
[
  {
    "id": "img-1",
    "url": "https://example.com/image.jpg",
    "cloudflare_id": "cf-image-id",
    "is_primary": false,
    "alt": "å›¾ç‰‡æè¿°",
    "created_at": "2024-01-01T00:00:00Z"
  }
]
```

### admin è¡¨ç»“æ„

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| id | uuid | ä¸»é”®ï¼Œè‡ªåŠ¨ç”Ÿæˆ |
| username | varchar(50) | ç”¨æˆ·åï¼ˆå”¯ä¸€ï¼‰ |
| password | varchar(255) | å¯†ç å“ˆå¸Œï¼ˆbcryptï¼‰ |
| email | varchar(255) | é‚®ç®±åœ°å€ |
| is_active | boolean | æ˜¯å¦å¯ç”¨ |
| created_at | timestamp | åˆ›å»ºæ—¶é—´ |
| updated_at | timestamp | æ›´æ–°æ—¶é—´ |

## API ä½¿ç”¨

é¡¹ç›®ä½¿ç”¨ Supabase å®¢æˆ·ç«¯ç›´æ¥ä¸æ•°æ®åº“äº¤äº’ï¼š

### å•†å“ç®¡ç† API

```typescript
// è·å–æ‰€æœ‰å•†å“
const { data, error } = await supabase
  .from('products')
  .select('*')
  .order('created_at', { ascending: false })

// æ·»åŠ å•†å“
const { error } = await supabase
  .from('products')
  .insert([productData])

// æ›´æ–°å•†å“
const { error } = await supabase
  .from('products')
  .update(productData)
  .eq('id', productId)

// åˆ é™¤å•†å“
const { error } = await supabase
  .from('products')
  .delete()
  .eq('id', productId)
```

### è®¤è¯ API

```typescript
import { login, logout } from '@/lib/auth'

// ç®¡ç†å‘˜ç™»å½•
try {
  const admin = await login(username, password)
  // ç™»å½•æˆåŠŸ
} catch (error) {
  // ç™»å½•å¤±è´¥
}

// é€€å‡ºç™»å½•
logout()
```

### å›¾ç‰‡ç®¡ç† API

```typescript
import { uploadImageToCloudflare, deleteImageFromCloudflare, getImageVariants } from '@/lib/cloudflare-images'

// ä¸Šä¼ å›¾ç‰‡åˆ° Cloudflare
const result = await uploadImageToCloudflare(file, { alt: 'å•†å“å›¾ç‰‡' })

// è·å–å›¾ç‰‡çš„ä¸åŒå°ºå¯¸å˜ä½“
const variants = getImageVariants(cloudflareId)
// è¿”å›: { thumbnail, small, medium, large, original }

// åˆ é™¤å›¾ç‰‡
await deleteImageFromCloudflare(cloudflareId)
```

### å•†å“å›¾ç‰‡ç»“æ„

```typescript
interface ProductImage {
  id: string
  url: string
  cloudflare_id: string | null
  is_primary: boolean
  alt: string
  created_at: string
}

interface ProductTranslation {
  language: 'zh' | 'en' | 'ja' | 'ko'
  name: string
  description: string
}

interface Product {
  // ... å…¶ä»–å­—æ®µ
  slug: string | null
  translations: ProductTranslation[]
  images: ProductImage[]
  primary_image_id: string | null
}
```

## éƒ¨ç½²

### Vercel éƒ¨ç½²

1. å°†ä»£ç æ¨é€åˆ° GitHub
2. åœ¨ [Vercel](https://vercel.com) å¯¼å…¥é¡¹ç›®
3. é…ç½®ç¯å¢ƒå˜é‡
4. éƒ¨ç½²å®Œæˆ

### ç¯å¢ƒå˜é‡

ç¡®ä¿åœ¨éƒ¨ç½²å¹³å°è®¾ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

```
# å¿…éœ€çš„ç¯å¢ƒå˜é‡
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key

# å¯é€‰çš„ç¯å¢ƒå˜é‡ï¼ˆå›¾ç‰‡ä¸Šä¼ åŠŸèƒ½ï¼‰
CLOUDFLARE_ACCOUNT_ID=your_cloudflare_account_id
CLOUDFLARE_API_TOKEN=your_cloudflare_api_token
NEXT_PUBLIC_CLOUDFLARE_IMAGES_HASH=your_cloudflare_images_hash
```

## æµ‹è¯•

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
npm run test:coverage

# ç›‘å¬æ¨¡å¼è¿è¡Œæµ‹è¯•
npm run test:watch

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
npm test -- --testPathPattern="auth"
```

### æµ‹è¯•æ–‡ä»¶

- **è®¤è¯æµ‹è¯•**: `src/lib/__tests__/auth.test.ts`
- **å›¾ç‰‡åŠŸèƒ½æµ‹è¯•**: `src/lib/__tests__/image-utils.test.ts`, `src/lib/__tests__/debug-images.test.ts`
- **ç»„ä»¶æµ‹è¯•**: `src/components/__tests__/*.test.tsx`
  - `ProductCard.test.tsx` - åŒ…å«å›¾ç‰‡è½®æ’­åŠŸèƒ½æµ‹è¯•
  - `ProductModal.test.tsx` - åŒ…å«å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½æµ‹è¯•
- **Contextæµ‹è¯•**: `src/contexts/__tests__/*.test.tsx`
- **é¡µé¢æµ‹è¯•**: `src/app/__tests__/*.test.tsx`

## æ•…éšœæ’é™¤

### ç™»å½•é—®é¢˜

å¦‚æœé‡åˆ°ç™»å½•é—®é¢˜ï¼Œè¯·ï¼š

1. æ£€æŸ¥ `LOGIN_DEBUG.md` æ–‡æ¡£
2. ä½¿ç”¨å¼€å‘ç¯å¢ƒä¸­çš„è°ƒè¯•å·¥å…·
3. ç¡®è®¤æ•°æ®åº“ä¸­å­˜åœ¨æ­£ç¡®çš„adminè®°å½•
4. éªŒè¯å¯†ç å“ˆå¸Œ

### è°ƒè¯•å·¥å…·

å¼€å‘ç¯å¢ƒä¸­æä¾›äº†å¤šç§è°ƒè¯•å·¥å…·ï¼š

#### è®¤è¯è°ƒè¯•
ç™»å½•é¡µé¢çš„è°ƒè¯•æŒ‰é’®ï¼š
- **è°ƒè¯•ç™»å½•**: æ˜¾ç¤ºè¯¦ç»†çš„ç™»å½•è¿‡ç¨‹æ—¥å¿—
- **æ£€æŸ¥è¡¨**: æŸ¥çœ‹adminè¡¨ä¸­çš„æ•°æ®
- **æµ‹è¯•å“ˆå¸Œ**: éªŒè¯å¯†ç å“ˆå¸ŒåŠŸèƒ½

#### å›¾ç‰‡è°ƒè¯•
å³ä¸‹è§’çš„Cloudflareè°ƒè¯•é¢æ¿ï¼ˆå¼€å‘ç¯å¢ƒï¼‰ï¼š
- **é…ç½®æ£€æŸ¥**: éªŒè¯ç¯å¢ƒå˜é‡é…ç½®
- **URLæµ‹è¯•**: æµ‹è¯•å›¾ç‰‡URLç”Ÿæˆå’Œå¯è®¿é—®æ€§
- **å®æ—¶çŠ¶æ€**: æ˜¾ç¤ºå½“å‰é…ç½®çŠ¶æ€

#### å›¾ç‰‡é—®é¢˜æ’æŸ¥
1. æ£€æŸ¥ Cloudflare Images é…ç½®
2. éªŒè¯å›¾ç‰‡URLæ ¼å¼
3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°çš„è¯¦ç»†æ—¥å¿—
4. ä½¿ç”¨è°ƒè¯•é¢æ¿æµ‹è¯•è¿æ¥

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½

1. åœ¨ `src/types/database.ts` ä¸­æ›´æ–°ç±»å‹å®šä¹‰
2. åœ¨ç›¸åº”ç›®å½•ä¸­åˆ›å»ºæ–°ç»„ä»¶/åŠŸèƒ½
3. ç¼–å†™å¯¹åº”çš„æµ‹è¯•ç”¨ä¾‹
4. æ›´æ–°æ–‡æ¡£

### è‡ªå®šä¹‰æ ·å¼

é¡¹ç›®ä½¿ç”¨ Tailwind CSSï¼Œå¯ä»¥åœ¨ `tailwind.config.js` ä¸­è‡ªå®šä¹‰ä¸»é¢˜ã€‚

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ TypeScript è¿›è¡Œç±»å‹æ£€æŸ¥
- éµå¾ª ESLint è§„åˆ™
- ç¼–å†™å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
- ä½¿ç”¨ Jest è¿›è¡Œæµ‹è¯•

## å®‰å…¨æ³¨æ„äº‹é¡¹

### å¯†ç å®‰å…¨
- é»˜è®¤å¯†ç ä»…ç”¨äºå¼€å‘ç¯å¢ƒ
- ç”Ÿäº§ç¯å¢ƒå¿…é¡»æ›´æ”¹é»˜è®¤å¯†ç 
- è€ƒè™‘å®ç°å¯†ç å¤æ‚åº¦è¦æ±‚
- å®šæœŸæ›´æ–°ç®¡ç†å‘˜å¯†ç 

### æ•°æ®åº“å®‰å…¨
- é…ç½®é€‚å½“çš„ Supabase è¡Œçº§å®‰å…¨ç­–ç•¥ï¼ˆRLSï¼‰
- é™åˆ¶ç®¡ç†å‘˜è¡¨çš„ç›´æ¥è®¿é—®
- ä½¿ç”¨ç¯å¢ƒå˜é‡å­˜å‚¨æ•æ„Ÿé…ç½®

### éƒ¨ç½²å®‰å…¨
- ä½¿ç”¨ HTTPS è¿æ¥
- é…ç½®æ­£ç¡®çš„ CORS è®¾ç½®
- å®šæœŸæ›´æ–°ä¾èµ–åŒ…

## æ‰©å±•åŠŸèƒ½å»ºè®®

### å·²å®Œæˆ âœ…
- [x] å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½ï¼ˆå¤šå›¾ç‰‡æ”¯æŒï¼‰
- [x] å›¾ç‰‡è½®æ’­å±•ç¤º
- [x] Cloudflare Images é›†æˆ
- [x] è°ƒè¯•å·¥å…·å®Œå–„
- [x] **å¤šè¯­è¨€æ”¯æŒ**ï¼ˆä¸­æ–‡ã€è‹±æ–‡ã€æ—¥è¯­ã€éŸ©è¯­ï¼‰
- [x] **SEOå‹å¥½URLs**ï¼ˆå•†å“slugç³»ç»Ÿï¼‰
- [x] **è¯­è¨€åˆ‡æ¢åŠŸèƒ½**ï¼ˆå®æ—¶å†…å®¹æœ¬åœ°åŒ–ï¼‰
- [x] **å®Œå–„çš„æµ‹è¯•è¦†ç›–**ï¼ˆå¤šè¯­è¨€å’ŒslugåŠŸèƒ½ï¼‰

### è®¡åˆ’ä¸­ ğŸš§
- [ ] æ›´å¤šè¯­è¨€æ”¯æŒï¼ˆæ³•è¯­ã€å¾·è¯­ã€è¥¿ç­ç‰™è¯­ç­‰ï¼‰
- [ ] åˆ†ç±»å¤šè¯­è¨€æ”¯æŒ
- [ ] å¤šç®¡ç†å‘˜æ”¯æŒ
- [ ] è§’è‰²æƒé™ç®¡ç†
- [ ] ç™»å½•å¤±è´¥æ¬¡æ•°é™åˆ¶
- [ ] å¯†ç é‡ç½®åŠŸèƒ½
- [ ] æ“ä½œæ—¥å¿—è®°å½•
- [ ] æ•°æ®å¯¼å…¥/å¯¼å‡º
- [ ] æ‰¹é‡æ“ä½œ
- [ ] å›¾ç‰‡æ°´å°å’Œå‹ç¼©
- [ ] å•†å“åˆ†ç±»ç®¡ç†
- [ ] é”€å”®ç»Ÿè®¡æŠ¥è¡¨
- [ ] è‡ªåŠ¨SEOä¼˜åŒ–å»ºè®®

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## è®¸å¯è¯

MIT License

## è‡´è°¢

- [Supabase](https://supabase.com) - åç«¯å³æœåŠ¡
- [Next.js](https://nextjs.org) - React æ¡†æ¶
- [Tailwind CSS](https://tailwindcss.com) - CSS æ¡†æ¶
- [bcryptjs](https://github.com/dcodeIO/bcrypt.js) - å¯†ç åŠ å¯†